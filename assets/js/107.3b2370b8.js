(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{421:function(t,e,r){"use strict";r.r(e);var n=r(8),o=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"_1-自动配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-自动配置"}},[t._v("#")]),t._v(" 1. 自动配置")]),t._v(" "),e("p",[t._v("1、整合web场景")]),t._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-web"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("2、引入了 "),e("code",[t._v("autoconfigure")]),t._v("功能")]),t._v(" "),e("p",[t._v("3、"),e("code",[t._v("@EnableAutoConfiguration")]),t._v("注解使用"),e("code",[t._v("@Import(AutoConfigurationImportSelector.class)")]),t._v("批量导入组件")]),t._v(" "),e("p",[t._v("4、加载 "),e("code",[t._v("META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports")]),t._v(" 文件中配置的所有组件")]),t._v(" "),e("p",[t._v("5、所有自动配置类如下")]),t._v(" "),e("div",{staticClass:"language-plain line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-plain"}},[e("code",[t._v("org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration\norg.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration\n====以下是响应式web场景和现在的没关系======\norg.springframework.boot.autoconfigure.web.reactive.HttpHandlerAutoConfiguration\norg.springframework.boot.autoconfigure.web.reactive.ReactiveMultipartAutoConfiguration\norg.springframework.boot.autoconfigure.web.reactive.ReactiveWebServerFactoryAutoConfiguration\norg.springframework.boot.autoconfigure.web.reactive.WebFluxAutoConfiguration\norg.springframework.boot.autoconfigure.web.reactive.WebSessionIdResolverAutoConfiguration\norg.springframework.boot.autoconfigure.web.reactive.error.ErrorWebFluxAutoConfiguration\norg.springframework.boot.autoconfigure.web.reactive.function.client.ClientHttpConnectorAutoConfiguration\norg.springframework.boot.autoconfigure.web.reactive.function.client.WebClientAutoConfiguration\n================以上没关系=================\norg.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration\norg.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration\norg.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration\norg.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration\norg.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration\norg.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br")])]),e("p",[t._v("6、绑定了配置文件的一堆配置项")]),t._v(" "),e("ul",[e("li",[t._v("1、SpringMVC的所有配置 "),e("code",[t._v("spring.mvc")])]),t._v(" "),e("li",[t._v("2、Web场景通用配置 "),e("code",[t._v("spring.web")])]),t._v(" "),e("li",[t._v("3、文件上传配置 "),e("code",[t._v("spring.servlet.multipart")])]),t._v(" "),e("li",[t._v("4、服务器的配置 "),e("code",[t._v("server")]),t._v(": 比如：编码方式")])]),t._v(" "),e("h2",{attrs:{id:"_2-默认效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-默认效果"}},[t._v("#")]),t._v(" 2. 默认效果")]),t._v(" "),e("p",[t._v("默认配置：")]),t._v(" "),e("ol",[e("li",[t._v("包含了 "),e("code",[t._v("ContentNegotiatingViewResolver")]),t._v(" 和 "),e("code",[t._v("BeanNameViewResolver")]),t._v(" 组件，"),e("strong",[t._v("方便视图解析")])]),t._v(" "),e("li",[e("strong",[t._v("默认的静态资源处理机制")]),t._v("： 静态资源放在 "),e("code",[t._v("static")]),t._v(" 文件夹下即可直接访问")]),t._v(" "),e("li",[e("strong",[t._v("自动注册")]),t._v("了 "),e("strong",[e("code",[t._v("Converter")])]),t._v(","),e("code",[t._v("GenericConverter")]),t._v(","),e("strong",[e("code",[t._v("Formatter")]),e("strong",[t._v("组件，适配常见")]),t._v("数据类型转换")]),t._v("和"),e("strong",[t._v("格式化需求")])]),t._v(" "),e("li",[e("strong",[t._v("支持")]),t._v(" "),e("strong",[e("code",[t._v("HttpMessageConverters")])]),t._v("，可以"),e("strong",[t._v("方便返回")]),e("code",[t._v("json")]),t._v("等"),e("strong",[t._v("数据类型")])]),t._v(" "),e("li",[e("strong",[t._v("注册")]),t._v(" "),e("code",[t._v("MessageCodesResolver")]),t._v("，方便"),e("strong",[t._v("国际化")]),t._v("及错误消息处理")]),t._v(" "),e("li",[e("strong",[t._v("支持 静态")]),t._v(" "),e("code",[t._v("index.html")])]),t._v(" "),e("li",[e("strong",[t._v("自动使用")]),e("code",[t._v("ConfigurableWebBindingInitializer")]),t._v("，实现消息处理、数据绑定、类型转化、数据校验等功能")])]),t._v(" "),e("p",[e("strong",[t._v("重要：")])]),t._v(" "),e("ul",[e("li",[e("em",[t._v("如果想保持")]),t._v(" "),e("em",[e("strong",[t._v("boot mvc 的默认配置")])]),t._v("，"),e("em",[t._v("并且自定义更多的 mvc 配置，如：")]),t._v(" "),e("em",[e("strong",[t._v("interceptors")])]),t._v(","),e("em",[e("strong",[t._v("formatters")])]),t._v(", "),e("em",[e("strong",[t._v("view controllers")])]),t._v(" "),e("em",[t._v("等。可以使用")]),e("em",[t._v("@Configuration")]),e("em",[t._v("注解添加一个")]),t._v(" "),e("em",[e("strong",[t._v("WebMvcConfigurer")])]),t._v(" "),e("em",[t._v("类型的配置类，并不要标注")]),t._v(" "),e("em",[e("strong",[t._v("@EnableWebMvc")])])]),t._v(" "),e("li",[e("em",[t._v("如果想保持 boot mvc 的默认配置，但要自定义核心组件实例，比如："),e("strong",[t._v("RequestMappingHandlerMapping")]),t._v(",")]),t._v(" "),e("em",[e("strong",[t._v("RequestMappingHandlerAdapter")])]),t._v(", "),e("em",[t._v("或")]),t._v(" "),e("em",[e("strong",[t._v("ExceptionHandlerExceptionResolver")])]),t._v("，"),e("em",[t._v("给容器中放一个")]),t._v(" "),e("em",[e("strong",[t._v("WebMvcRegistrations")])]),t._v(" "),e("em",[t._v("组件即可")])]),t._v(" "),e("li",[e("em",[t._v("如果想全面接管 Spring MVC，"),e("strong",[t._v("@Configuration")])]),t._v(" "),e("em",[t._v("标注一个配置类，并加上")]),t._v(" "),e("em",[e("strong",[t._v("@EnableWebMvc")])]),t._v(" "),e("em",[t._v("注解，实现")]),t._v(" "),e("em",[e("strong",[t._v("WebMvcConfigurer")])]),t._v(" "),e("em",[t._v("接口")])])]),t._v(" "),e("h2",{attrs:{id:"_3-最佳实践"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-最佳实践"}},[t._v("#")]),t._v(" 3. 最佳实践")]),t._v(" "),e("p",[t._v("SpringBoot 已经默认配置好了"),e("strong",[t._v("Web开发")]),t._v("场景常用功能。我们直接使用即可。")]),t._v(" "),e("h2",{attrs:{id:"三种方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三种方式"}},[t._v("#")]),t._v(" 三种方式")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("方式")]),t._v(" "),e("th",[t._v("用法")]),t._v(" "),e("th",[t._v("效果")]),t._v(" "),e("th")])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("strong",[t._v("全自动")])]),t._v(" "),e("td",[t._v("直接编写控制器逻辑")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("全部使用"),e("strong",[t._v("自动配置默认效果")])])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("手自一体")])]),t._v(" "),e("td",[e("code",[t._v("@Configuration")]),t._v(" +   配置"),e("code",[t._v("WebMvcConfigurer")]),t._v("+ "),e("em",[t._v("配置 WebMvcRegistrations")])]),t._v(" "),e("td",[e("strong",[t._v("不要标注")]),t._v(" "),e("code",[t._v("@EnableWebMvc")])]),t._v(" "),e("td",[e("strong",[t._v("保留自动配置效果")]),t._v(" "),e("strong",[t._v("手动设置部分功能")]),t._v(" 定义MVC底层组件")])]),t._v(" "),e("tr",[e("td",[e("strong",[t._v("全手动")])]),t._v(" "),e("td",[e("code",[t._v("@Configuration")]),t._v(" +   配置"),e("code",[t._v("WebMvcConfigurer")])]),t._v(" "),e("td",[e("strong",[t._v("标注")]),t._v(" "),e("code",[t._v("@EnableWebMvc")])]),t._v(" "),e("td",[e("strong",[t._v("禁用自动配置效果")]),t._v(" "),e("strong",[t._v("全手动设置")])])])])]),t._v(" "),e("p",[t._v("总结：")]),t._v(" "),e("p",[e("strong",[t._v("给容器中写一个配置类")]),e("code",[t._v("@Configuration")]),e("strong",[t._v("实现")]),t._v(" "),e("code",[t._v("WebMvcConfigurer")]),e("strong",[t._v("但是不要标注")]),t._v(" "),e("code",[t._v("@EnableWebMvc")]),e("strong",[t._v("注解，实现手自一体的效果。")])]),t._v(" "),e("h2",{attrs:{id:"两种模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#两种模式"}},[t._v("#")]),t._v(" 两种模式")]),t._v(" "),e("p",[t._v("1、前后分离模式： "),e("code",[t._v("@RestController")]),t._v("响应JSON数据")]),t._v(" "),e("p",[t._v("2、前后不分离模式："),e("code",[t._v("@Controller")]),t._v(" + "),e("code",[t._v("Thymeleaf")]),t._v("模板引擎")])])}),[],!1,null,null,null);e.default=o.exports}}]);