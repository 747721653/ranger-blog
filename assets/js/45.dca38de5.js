(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{362:function(t,s,a){"use strict";a.r(s);var e=a(7),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1、接力"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、接力"}},[t._v("#")]),t._v(" 1、接力")]),t._v(" "),s("p",[t._v("发一个请求给Servlet，接力棒就传递到了Servlet手中。而绝大部分情况下，Servlet不能独自完成一切，需要把接力棒继续传递下去，此时我们就需要请求的**『转发』"),s("strong",[t._v("或")]),t._v("『重定向』**。")]),t._v(" "),s("h2",{attrs:{id:"_2、转发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、转发"}},[t._v("#")]),t._v(" 2、转发")]),t._v(" "),s("p",[t._v("本质："),s("strong",[t._v("转交")])]),t._v(" "),s("p",[t._v("完整定义：在请求的处理过程中，Servlet完成了自己的任务，需要把请求"),s("strong",[t._v("转交给下一个资源")]),t._v("继续处理。")]),t._v(" "),s("div",{staticClass:"center-container"},[s("p",[s("img",{attrs:{src:"https://cdn.staticaly.com/gh/747721653/image-store@master/javaweb/image.55i8lzbw2q00.webp",alt:"image"}})])]),s("p",[t._v("代码：")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRequestDispatcher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/fruit/apple/red/sweet/big.html"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forward")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("类比：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("代码")]),t._v(" "),s("th",[t._v("类比")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("request")]),t._v(" "),s("td",[t._v("小货车")])]),t._v(" "),s("tr",[s("td",[t._v('getRequestDispatcher("转发地址")')]),t._v(" "),s("td",[t._v("告诉司机要去哪")])]),t._v(" "),s("tr",[s("td",[t._v("forward(request, response)")]),t._v(" "),s("td",[t._v("出发")])])])]),t._v(" "),s("p",[t._v("关键：由于转发操作的核心部分是"),s("strong",[t._v("在服务器端完成")]),t._v("的，所以浏览器感知不到，整个过程中浏览器"),s("strong",[t._v("只发送一次请求")]),t._v("。")]),t._v(" "),s("div",{staticClass:"center-container"},[s("p",[s("img",{attrs:{src:"https://cdn.staticaly.com/gh/747721653/image-store@master/javaweb/image.unsq9shpp9s.webp",alt:"image"}})])]),s("h2",{attrs:{id:"_3、重定向"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、重定向"}},[t._v("#")]),t._v(" 3、重定向")]),t._v(" "),s("p",[t._v("本质："),s("strong",[t._v("一种特殊的响应")])]),t._v(" "),s("p",[t._v("完整定义：在请求的处理过程中，Servlet完成了自己的任务，然后以一个"),s("strong",[t._v("响应")]),t._v("的方式告诉浏览器：“要完成这个任务还需要你另外"),s("strong",[t._v("再访问下一个资源")]),t._v("”。")]),t._v(" "),s("div",{staticClass:"center-container"},[s("p",[s("img",{attrs:{src:"https://cdn.staticaly.com/gh/747721653/image-store@master/javaweb/image.6eym1rcpg340.webp",alt:"image"}})])]),s("p",[t._v("代码：")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendRedirect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/app/fruit/apple/red/sweet/big.html"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("div",{staticClass:"center-container"},[s("p",[s("img",{attrs:{src:"https://cdn.staticaly.com/gh/747721653/image-store@master/javaweb/image.6e3sk17bnpw0.webp",alt:"image"}})])]),s("p",[t._v("关键：由于重定向操作的核心部分是"),s("strong",[t._v("在浏览器端完成")]),t._v("的，所以整个过程中浏览器"),s("strong",[t._v("共发送两次请求")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"_4、对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、对比"}},[t._v("#")]),t._v(" 4、对比")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("转发")]),t._v(" "),s("th",[t._v("重定向")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("一次请求")])]),t._v(" "),s("td",[s("strong",[t._v("两次请求")])])]),t._v(" "),s("tr",[s("td",[t._v("浏览器地址栏显示的是第一个资源的地址")]),t._v(" "),s("td",[t._v("浏览器地址栏显示的是第二个资源的地址")])]),t._v(" "),s("tr",[s("td",[t._v("全程使用的是同一个request对象")]),t._v(" "),s("td",[t._v("全程使用的是不同的request对象")])]),t._v(" "),s("tr",[s("td",[t._v("在服务器端完成")]),t._v(" "),s("td",[t._v("在浏览器端完成")])]),t._v(" "),s("tr",[s("td",[t._v("目标资源地址由服务器解析")]),t._v(" "),s("td",[t._v("目标资源地址由浏览器解析")])]),t._v(" "),s("tr",[s("td",[t._v("目标资源可以在WEB-INF目录下")]),t._v(" "),s("td",[t._v("目标资源不能在WEB-INF目录下")])]),t._v(" "),s("tr",[s("td",[t._v("目标资源仅限于本应用内部")]),t._v(" "),s("td",[t._v("目标资源可以是外部资源")])])])]),t._v(" "),s("h2",{attrs:{id:"_5、转发和重定向的应用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、转发和重定向的应用场景"}},[t._v("#")]),t._v(" 5、转发和重定向的应用场景")]),t._v(" "),s("p",[t._v("可以简单的判断：能用转发的先用转发，如果转发不行，再使用重定向。")]),t._v(" "),s("ul",[s("li",[t._v("需要通过同一个request对象把数据携带到目标资源：只能用转发")]),t._v(" "),s("li",[t._v("如果希望前往下一个资源之后，浏览器刷新访问的是第二个资源：只能用重定向")])])])}),[],!1,null,null,null);s.default=r.exports}}]);